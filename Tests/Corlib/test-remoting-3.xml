<?xml version="1.0" encoding="utf-8" ?>
<linker-optimizer>
	<options all-modules="true" analyze-all="true" preprocessor="full" report-size="true" />

	<include filename="corlib-api.xml" />
	<include filename="corlib-asserts.xml" />

	<namespace name="System.Runtime.Serialization.Formatters.Binary">
		<type name="ObjectReader" action="fail" />
		<type name="BinaryFormatter">
			<method name="Deserialize" action="fail" />
		</type>
	</namespace>

	<namespace name="System.Runtime.Remoting.Channels" action="fail" />

	<namespace name="System.Runtime.Remoting.Messaging">
		<type name="AsyncResult" action="none">
			<field name="call_message" action="make-object" />
		</type>
		<type name="MonoMethodMessage" action="none">
			<field name="ctx" action="make-object" />
		</type>
		<type name="LogicalCallContext" action="warn" />
		<type name="CallContext">
			<method name="SetLogicalCallContext" action="remove" />
			<method name="SetCurrentCallContext" action="none" />
		</type>
	</namespace>

	<type fullname="System.Threading.ExecutionContext" />
	<type fullname="System.Runtime.Remoting.Proxies.TransparentProxy" action="preserve" />
	<type fullname="System.Runtime.Remoting.IRemotingTypeInfo" action="preserve" />

	<type name="Foo" action="preserve" />

	<features>
		<feature name="remoting" enabled="false" />
		<feature name="serialization" enabled="false" />
		<feature name="security" enabled="false" />
	</features>
</linker-optimizer>
